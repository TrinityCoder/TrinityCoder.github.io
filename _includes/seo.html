{%- capture current_absolute_url -%}{{ page.url | replace: 'index.html', '' | absolute_url }}{%- endcapture -%}
{%- capture current_description -%}
  {{ page.excerpt | default: post.content | default: site.description | strip_html | normalize_whitespace | truncatewords: 40 | escape }}
{%- endcapture -%}
{%- capture current_title -%}{{ page.title | default: site.title | escape }}{%- endcapture -%}
{%- capture current_author -%}{{ page.author | default: site.author }}{%- endcapture -%}
{%- capture current_date_published -%}{{ page.date | date_to_xmlschema }}{%- endcapture -%}
<title>{{ current_title }}</title>
<link rel="canonical" href="{{ current_absolute_url }}">
<meta name="generator" content="Jekyll">
<meta name="author" content="{{ current_author }}">
<meta name="description" content="{{ current_description }}">
<meta property="og:image" content="{{ '/assets/profile.jpg' | absolute_url }}">
<meta property="og:title" content="{{ current_title }}">
<meta property="og:locale" content="{{ page.lang | default: site.lang | default: 'cs' }}">
<meta property="og:description" content="{{ current_description }}">
<meta property="og:url" content="{{ current_absolute_url }}">
<meta property="og:site_name" content="{{ site.title | escape }}">
{% if page.layout == "post" -%}
<meta property="og:type" content="article">
{% endif -%}
<script type="application/ld+json">
  {
    "description": "{{ current_description }}",
    "author": {
      "@type": "Person",
      "name": "{{ current_author }}"
    },
    "@type": "{%- if page.layout == 'post' -%}BlogPosting{%- else -%}WebPage{%- endif -%}",
    "url": "{{ current_absolute_url }}",
    "headline:" "{{ current_title }}",
    {% if page.layout == "post" -%}
    "datePublished": "{{ current_date_published }}",
    "dateModified": "{{ current_date_published }}",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ current_absolute_url }}"
    },
    {% endif -%}
    "@context": "http://schema.org"
  }
</script>
